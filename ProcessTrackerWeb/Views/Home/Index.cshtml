<div class="container">
    <h2 class="text-center my-3">Welcome to Process Tracker Application</h2>
    <div class="d-flex justify-content-center align-items-center">
        <label for="folderSelect" class="form-label my-0 mx-2">Select folder to watch: </label>
        <select id="folderSelect" class="form-select w-25">
            <option value="/Users/arslan/Desktop/Folder">Folder</option>
            <option value="/Users/arslan/Desktop/Folder1">Folder1</option>
            <option value="/Users/arslan/Desktop/Folder2">Folder2</option>
            <option value="/Users/arslan/Desktop/Folder3">Folder3</option>
        </select>
    </div>
    <div class="d-flex justify-content-center align-items-center gap-3">
        <a class="btn btn-primary w-25 my-3" asp-action="AddProcess" asp-controller="Process">Add Process</a>
        <a class="btn btn-primary w-25 my-3" asp-action="ListProcess" asp-controller="Process">List Processes</a>
    </div>
    <div class="d-flex justify-content-center">
        <a class="btn btn-info w-25 my-3" asp-action="ListChange" asp-controller="FolderChange">List Changes</a>
    </div>
</div>

@section Scripts
{
    <script>
        $(document).ready(function() {
            let folderSelect = $("#folderSelect");
            folderSelect.change(function() {
                $.ajax({
                    url: "@Url.Action("SetFolderPath", "Home")",
                    type: "POST",
                    data: { "path": folderSelect.val() },
                    success: function() {
                        console.log("Successful");
                        window.location.reload();
                    },
                    error: function() {
                        console.error("Error");
                    }
                });
            });
        });
    </script>
}